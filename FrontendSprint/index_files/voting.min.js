!function(t){"use strict";t(function(){var e=!1;t("div.comment-weight-container").on("click","span > a",_.throttle(function(a){a.preventDefault();var o=0,s=t(this).data("commentId"),n=t(this).closest("span").attr("class");("upvote"!==n&&t(this).hasClass("vote-up")?o="upvote":"downvote"!==n&&t(this).hasClass("vote-down")?o="downvote":("downvote"===n&&t(this).hasClass("vote-down")||"upvote"===n&&t(this).hasClass("vote-up"))&&(o="undo"),!1===e)&&(e=!0,t.post(comment_popularity.ajaxurl,{action:"comment_vote_callback",vote:o,comment_id:s,hmn_vote_nonce:comment_popularity.hmn_vote_nonce}).done(function(a){var o=t("#comment-weight-value-"+a.data.comment_id);if(!1===a.success)t.growl.error({message:a.data.error_message});else{if(o.text(a.data.weight),o.closest(".comment-weight-container ").children().removeClass(),"undo"!==a.data.vote_type)switch(o.addClass(a.data.vote_type),a.data.vote_type){case"upvote":o.prev().addClass(a.data.vote_type);break;case"downvote":o.next().addClass(a.data.vote_type)}t.growl.notice({message:a.data.success_message})}e=!1}))},500))})}(jQuery);